<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>readtags.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1>readtags.h</h1><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">*   $Id: readtags_8h-source.html,v 1.11 2004/05/02 16:58:48 heicom Exp $</span>
00003 <span class="comment">*</span>
00004 <span class="comment">*   Copyright (c) 1996-2003, Darren Hiebert</span>
00005 <span class="comment">*</span>
00006 <span class="comment">*   This source code is released for the public domain.</span>
00007 <span class="comment">*</span>
00008 <span class="comment">*   This file defines the public interface for looking up tag entries in tag</span>
00009 <span class="comment">*   files.</span>
00010 <span class="comment">*</span>
00011 <span class="comment">*   The functions defined in this interface are intended to provide tag file</span>
00012 <span class="comment">*   support to a software tool. The tag lookups provided are sufficiently fast</span>
00013 <span class="comment">*   enough to permit opening a sorted tag file, searching for a matching tag,</span>
00014 <span class="comment">*   then closing the tag file each time a tag is looked up (search times are</span>
00015 <span class="comment">*   on the order of hundreths of a second, even for huge tag files). This is</span>
00016 <span class="comment">*   the recommended use of this library for most tool applications. Adhering</span>
00017 <span class="comment">*   to this approach permits a user to regenerate a tag file at will without</span>
00018 <span class="comment">*   the tool needing to detect and resynchronize with changes to the tag file.</span>
00019 <span class="comment">*   Even for an unsorted 24MB tag file, tag searches take about one second.</span>
00020 <span class="comment">*/</span>
00021 <span class="preprocessor">#ifndef READTAGS_H</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#define READTAGS_H</span>
00023 <span class="preprocessor"></span>
00024 <span class="preprocessor">#ifdef __cplusplus</span>
00025 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00026 <span class="preprocessor">#endif</span>
00027 <span class="preprocessor"></span>
00028 <span class="comment">/*</span>
00029 <span class="comment">*  MACROS</span>
00030 <span class="comment">*/</span>
00031 
00033 <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00034     TAG_UNSORTED, TAG_SORTED, TAG_FOLDSORTED
00035 } sortType ;
00036 
00037 <span class="comment">/* Options for tagsFind() */</span>
00038 <span class="preprocessor">#define TAG_FULLMATCH     0x0</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define TAG_PARTIALMATCH  0x1</span>
00040 <span class="preprocessor"></span>
00041 <span class="preprocessor">#define TAG_OBSERVECASE   0x0</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#define TAG_IGNORECASE    0x2</span>
00043 <span class="preprocessor"></span>
00044 <span class="comment">/*</span>
00045 <span class="comment">*  DATA DECLARATIONS</span>
00046 <span class="comment">*/</span>
00047 
00048 <span class="keyword">typedef</span> <span class="keyword">enum</span> { TagFailure = 0, TagSuccess = 1 } tagResult;
00049 
00050 <span class="keyword">struct </span>sTagFile;
00051 
00052 <span class="keyword">typedef</span> <span class="keyword">struct </span>sTagFile tagFile;
00053 
<a name="l00055"></a><a class="code" href="structtagFileInfo.html">00055</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00056 
00057     <span class="keyword">struct </span>{
00058         <span class="comment">/* was the tag file successfully opened? */</span>
00059         <span class="keywordtype">int</span> opened;
00060 
00061         <span class="comment">/* errno value when 'opened' is false */</span>
00062         <span class="keywordtype">int</span> error_number;
00063     }status;
00064 
00065         <span class="comment">/* information about the structure of the tag file */</span>
00066     <span class="keyword">struct </span>{
00067         <span class="comment">/* format of tag file (1 = original, 2 = extended) */</span>
00068         <span class="keywordtype">short</span> format;
00069 
00070         <span class="comment">/* how is the tag file sorted? */</span>
00071         sortType sort;
00072     } file;
00073 
00074 
00075     <span class="comment">/* information about the program which created this tag file */</span>
00076     <span class="keyword">struct </span>{
00077         <span class="comment">/* name of author of generating program (may be null) */</span>
00078         <span class="keyword">const</span> <span class="keywordtype">char</span> *author;
00079 
00080         <span class="comment">/* name of program (may be null) */</span>
00081         <span class="keyword">const</span> <span class="keywordtype">char</span> *name;
00082 
00083         <span class="comment">/* URL of distribution (may be null) */</span>
00084         <span class="keyword">const</span> <span class="keywordtype">char</span> *url;
00085 
00086         <span class="comment">/* program version (may be null) */</span>
00087         <span class="keyword">const</span> <span class="keywordtype">char</span> *version;
00088     } program;
00089 
00090 } <a class="code" href="structtagFileInfo.html">tagFileInfo</a>;
00091 
<a name="l00095"></a><a class="code" href="structtagExtensionField.html">00095</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00096 
<a name="l00098"></a><a class="code" href="structtagExtensionField.html#o0">00098</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *key;
00099 
<a name="l00101"></a><a class="code" href="structtagExtensionField.html#o1">00101</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *value;
00102 
00103 } <a class="code" href="structtagExtensionField.html">tagExtensionField</a>;
00104 
<a name="l00106"></a><a class="code" href="structtagEntry.html">00106</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00107 
<a name="l00109"></a><a class="code" href="structtagEntry.html#o0">00109</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *name;
00110 
<a name="l00112"></a><a class="code" href="structtagEntry.html#o1">00112</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *file;
00113 
00115     <span class="keyword">struct </span>{
<a name="l00118"></a><a class="code" href="structtagEntry.html#o2">00118</a>         <span class="keyword">const</span> <span class="keywordtype">char</span> *pattern;
00119 
<a name="l00122"></a><a class="code" href="structtagEntry.html#o3">00122</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> lineNumber;
00123     } address;
00124 
<a name="l00126"></a><a class="code" href="structtagEntry.html#o5">00126</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *kind;
00127 
<a name="l00129"></a><a class="code" href="structtagEntry.html#o6">00129</a>     <span class="keywordtype">short</span> fileScope;
00130 
00132     <span class="keyword">struct </span>{
<a name="l00134"></a><a class="code" href="structtagEntry.html#o7">00134</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> count;
00135 
<a name="l00137"></a><a class="code" href="structtagEntry.html#o8">00137</a>         <a class="code" href="structtagExtensionField.html">tagExtensionField</a> *list;
00138     } fields;
00139 
00140 } <a class="code" href="structtagEntry.html">tagEntry</a>;
00141 
00142 
00143 <span class="comment">/*</span>
00144 <span class="comment">*  FUNCTION PROTOTYPES</span>
00145 <span class="comment">*/</span>
00146 
00158 <span class="keyword">extern</span> tagFile *tagsOpen (<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> filePath, <a class="code" href="structtagFileInfo.html">tagFileInfo</a> *<span class="keyword">const</span> info);
00159 
00173 <span class="keyword">extern</span> tagResult tagsSetSortType (tagFile *<span class="keyword">const</span> file, <span class="keyword">const</span> sortType type);
00174 
00182 <span class="keyword">extern</span> tagResult tagsFirst (tagFile *<span class="keyword">const</span> file, <a class="code" href="structtagEntry.html">tagEntry</a> *<span class="keyword">const</span> entry);
00183 
00192 <span class="keyword">extern</span> tagResult tagsNext (tagFile *<span class="keyword">const</span> file, <a class="code" href="structtagEntry.html">tagEntry</a> *<span class="keyword">const</span> entry);
00193 
00201 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *tagsField (<span class="keyword">const</span> <a class="code" href="structtagEntry.html">tagEntry</a> *<span class="keyword">const</span> entry, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> key);
00202 
00228 <span class="keyword">extern</span> tagResult tagsFind (tagFile *<span class="keyword">const</span> file, <a class="code" href="structtagEntry.html">tagEntry</a> *<span class="keyword">const</span> entry, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> name, <span class="keyword">const</span> <span class="keywordtype">int</span> options);
00229 
00237 <span class="keyword">extern</span> tagResult tagsFindNext (tagFile *<span class="keyword">const</span> file, <a class="code" href="structtagEntry.html">tagEntry</a> *<span class="keyword">const</span> entry);
00238 
00244 <span class="keyword">extern</span> tagResult tagsClose (tagFile *<span class="keyword">const</span> file);
00245 
00246 <span class="preprocessor">#ifdef __cplusplus</span>
00247 <span class="preprocessor"></span>};
00248 <span class="preprocessor">#endif</span>
00249 <span class="preprocessor"></span>
00250 <span class="preprocessor">#endif</span>
00251 <span class="preprocessor"></span>
00252 <span class="comment">/* vi:set tabstop=8 shiftwidth=4: */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun May 2 20:02:58 2004 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
